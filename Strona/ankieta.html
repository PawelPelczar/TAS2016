<!DOCTYPE HTML>
<html lang="pl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Strona RWD</title>
<link rel="stylesheet" href="css/style.css">
	
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script type="text/javascript">
function ISchecked(name)
{
  var elements = document.getElementsByName(name);
  for (var i=0; i<elements.length; i++)  {
  if  (elements[i].checked) return true
  }
  return false
}
</script>
<script>
function iterateJSON(){
  $("#ankieta_container").html("");
  var ankietaString = '{"id":"123","title":"Test JSON- ankieta","pytania":[{"pytanie":"pytanie 1","rodzaj":"single","odpowiedzi":["1","2","3"]},{"pytanie":"pytanie 2","rodzaj":"multiple","odpowiedzi":["a","b","c"]},{"pytanie":"pytanie 3","rodzaj":"single","odpowiedzi":["111","123","139"]}]}';
  var ankieta = JSON.parse(ankietaString);
  
  for(var i=0; i<ankieta.pytania.length; i++){
    var checkboxType;
	if (ankieta.pytania[i].rodzaj=="single") {
	  checkboxType = "checkbox";
	} else {
	  checkboxType = "radio";
	}
	
	$("#ankieta_container").append(ankieta.pytania[i].pytanie + ":<br>");
	for(var j = 0; j < ankieta.pytania[i].odpowiedzi.length; j++){
	  var checkbox = document.createElement("input");
	  var label = document.createElement("label");
	  checkbox.id = ""+j;
	  checkbox.type = checkboxType;
	  label.htmlFor = checkbox.id;
	  label.appendChild(document.createTextNode(ankieta.pytania[i].odpowiedzi[j]));
	  document.getElementById("ankieta_container").appendChild(checkbox);
	  document.getElementById("ankieta_container").appendChild(label);
	  $("#ankieta_container").append("<br>");
	}
	$("#ankieta_container").append("<br>");
  }
  //$("#ankieta_container").append("<br><button onclick='alert("This should submit")'></button>")
}
</script>
</head>
<body onload="iterateJSON()" onresize="getScreenProperties()">
 
<div id="container">
 
<!-- header -->
<header>

  <img src="images/banner.jpeg" alt="" align="middle">

</header>
 

<p align="right"><strong>login:</strong> 
    <input maxlength="25" size="30" name="login" placeholder="Login"></p>
<p align="right"><strong>password:</strong> 
    <input type="password" maxlength="25" size="30" name="password" placeholder="Password"></p>
<p align="right"><input type="submit" value="Login!"></p>
	
<!-- sidebar -->	
<aside>
  <nav>
    <ul>
      <li><a href="index.html">Start</a></li>
	  <li><a href="#">O stronie</a></li>
	  <li><a href="#">Lista ankiet</a></li>
	  <li><a href="ankieta.html">Wypełnij ankietę</a></li>
	  <li><a href="#">Kontakt</a></li>
	</ul>
  </nav>
</aside>
	
 
<!-- main -->
<section id="main">
  <h1>Proszę wypełnić poniższą ankietę</h1>
  <p>Ankietę należy wypełniać klikając i naciskając "wyślij"</p>

  <div id="example_ankieta_container">
	<form action="demo_form.asp" method="get" enctype="application/json">
	<input type="checkbox" name="vehicle" value="Bike"> I have a bike<br>
	<input type="radio" name="vehicle" value="Car" checked> I have a car<br>
	<input type="radio" name="vehicle" value="Plane"> I have an airplane<br>
	<input type="submit" value="Submit" onclick="alert(ISchecked('vehicle'));">
	</form>
	<form enctype='application/json'>
	  <input name='name' value='Bender'>
	  <select name='hind'>
		<option selected>Bitable</option>
		<option>Kickable</option>
	  </select>
	  <input type='checkbox' name='shiny' checked>
	</form>
  </div>
  <div id="ankieta_container">Tu powinna być ankieta 
    <button onclick="iterateJSON()">Do it!</button>
  </div>

</section>
 
</div>

 
</body>
</html>
